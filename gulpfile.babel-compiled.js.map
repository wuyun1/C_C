{"version":3,"sources":["gulpfile.babel.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAOA,IAAM,CAAC,GAAG,gCAAiB;AAAC;AAC5B,IAAM,MAAM,GAAG,sBAAY,MAAM,CAAC;;AAElC,eAAK,IAAI,CAAC,QAAQ,EAAE,YAAM;AACxB,SAAO,eAAK,GAAG,CAAC,mBAAmB,CAAC,CACjC,IAAI,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CACjB,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC,CACzB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;AAChB,eAAW,EAAE,UAAU;AACvB,aAAS,EAAE,EAAE;AACb,gBAAY,EAAE,CAAC,GAAG,CAAC;GACpB,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAC/B,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,EAAC,QAAQ,EAAE,CAAC,gBAAgB,CAAC,EAAC,CAAC,CAAC,CACpD,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,CAC1B,IAAI,CAAC,eAAK,IAAI,CAAC,aAAa,CAAC,CAAC,CAC9B,IAAI,CAAC,MAAM,CAAC,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;CACjC,CAAC,CAAC;;AAEH,SAAS,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE;AAC5B,SAAO,YAAM;AACX,WAAO,eAAK,GAAG,CAAC,KAAK,CAAC,CACnB,IAAI,CAAC,MAAM,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC,CACxC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CACvB,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CACvB,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,sBAAY,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;GAC/D,CAAC;CACH;AACD,IAAM,eAAe,GAAG;AACtB,KAAG,EAAE;AACH,SAAK,EAAE,IAAI;GACZ;CACF,CAAC;;AAEF,eAAK,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC;AAC/C,eAAK,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,mBAAmB,EAAE,eAAe,CAAC,CAAC,CAAC;;AAEnE,eAAK,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,CAAC,EAAE,YAAM;AAClC,MAAM,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,EAAC,UAAU,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,CAAC,EAAC,CAAC,CAAC;;AAEnE,SAAO,eAAK,GAAG,CAAC,YAAY,CAAC,CAC1B,IAAI,CAAC,MAAM,CAAC,CACZ,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAC9B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,SAAS,CAAC,EAAC,aAAa,EAAE,GAAG,EAAC,CAAC,CAAC,CAAC,CACtD,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC,CACtB,IAAI,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAChB,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,UAAU,CAAC,EAAC,YAAY,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC,CACrE,IAAI,CAAC,eAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;CAC5B,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,QAAQ,EAAE,YAAM;AACxB,SAAO,eAAK,GAAG,CAAC,iBAAiB,CAAC,CAC/B,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,QAAQ,CAAC;AACzC,eAAW,EAAE,IAAI;AACjB,cAAU,EAAE,IAAI;;;AAGhB,eAAW,EAAE,CAAC,EAAC,UAAU,EAAE,KAAK,EAAC,CAAC;GACnC,CAAC,CAAC,CACF,EAAE,CAAC,OAAO,EAAE,UAAU,GAAG,EAAE;AAC1B,WAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACjB,QAAI,CAAC,GAAG,EAAE,CAAC;GACZ,CAAC,CAAC,CAAC,CACH,IAAI,CAAC,eAAK,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;CACnC,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,OAAO,EAAE,YAAM;AACvB,SAAO,eAAK,GAAG,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAC1C,UAAM,EAAE,+BAA+B;GACxC,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAC,CACzB,IAAI,CAAC,eAAK,IAAI,CAAC,YAAY,CAAC,CAAC,CAC7B,IAAI,CAAC,eAAK,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;CAClC,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,QAAQ,EAAE,YAAM;AACzB,SAAO,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,uDAAuD,CAAC,CAAC;AACtF,SAAO,eAAK,GAAG,CAAC,CACd,SAAS,EACT,aAAa,CACd,EAAE;AACD,OAAG,EAAE,IAAI;GACV,CAAC,CAAC,IAAI,CAAC,eAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;CAC5B,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,OAAO,EAAE,cAAI,IAAI,CAAC,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;;AAErD,eAAK,IAAI,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC,EAAE,YAAM;AAC5C,6BAAY;AACV,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,IAAI;AACV,UAAM,EAAE;AACN,aAAO,EAAE,CAAC,MAAM,EAAE,KAAK,CAAC;AACxB,YAAM,EAAE;AACN,2BAAmB,EAAE,kBAAkB;OACxC;KACF;GACF,EAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAEpC,iBAAK,KAAK,CAAC,CACT,YAAY,EACZ,qBAAqB,EACrB,iBAAiB,EACjB,iBAAiB,CAClB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;;AAExB,iBAAK,KAAK,CAAC,sBAAsB,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC/C,iBAAK,KAAK,CAAC,gBAAgB,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;AACxC,iBAAK,KAAK,CAAC,YAAY,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;CAChD,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,YAAY,EAAE,YAAM;AAC5B,6BAAY;AACV,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,IAAI;AACV,UAAM,EAAE;AACN,aAAO,EAAE,CAAC,MAAM,CAAC;KAClB;GACF,EAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;CACrC,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,YAAY,EAAE,YAAM;AAC5B,6BAAY;AACV,UAAM,EAAE,KAAK;AACb,QAAI,EAAE,IAAI;AACV,MAAE,EAAE,KAAK;AACT,UAAM,EAAE;AACN,aAAO,EAAE,MAAM;AACf,YAAM,EAAE;AACN,2BAAmB,EAAE,kBAAkB;OACxC;KACF;GACF,EAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAAC;;AAEpC,iBAAK,KAAK,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AACrD,iBAAK,KAAK,CAAC,mBAAmB,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;CAChD,CAAC;;;AAAC,AAGH,eAAK,IAAI,CAAC,SAAS,EAAE,YAAM;AACzB,iBAAK,GAAG,CAAC,mBAAmB,CAAC,CAC1B,IAAI,CAAC,aA7IF,MAAM,EA6II;AACZ,cAAU,EAAE,YAAY;GACzB,CAAC,CAAC,CACF,IAAI,CAAC,eAAK,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;;AAEjC,iBAAK,GAAG,CAAC,YAAY,CAAC,CACnB,IAAI,CAAC,aAnJF,MAAM,EAmJI;AACZ,WAAO,EAAE,CAAC,gBAAgB,CAAC;AAC3B,cAAU,EAAE,gBAAgB;GAC7B,CAAC,CAAC,CACF,IAAI,CAAC,eAAK,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;CAC3B,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,OAAO,EAAE,YAAa,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAE,YAAM;AAC1E,SAAO,eAAK,GAAG,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC,CAAC;CACzE,CAAC,CAAC;;AAEH,eAAK,IAAI,CAAC,SAAS,EAAE,CAAC,OAAO,CAAC,EAAE,YAAM;AACpC,iBAAK,KAAK,CAAC,OAAO,CAAC,CAAC;CACrB,CAAC,CAAC","file":"gulpfile.babel-compiled.js","sourcesContent":["// generated on 2015-12-03 using generator-gulp-webapp 1.0.3\nimport gulp from 'gulp';\nimport gulpLoadPlugins from 'gulp-load-plugins';\nimport browserSync from 'browser-sync';\nimport del from 'del';\nimport {stream as wiredep} from 'wiredep';\n\nconst $ = gulpLoadPlugins();\nconst reload = browserSync.reload;\n\ngulp.task('styles', () => {\n  return gulp.src('app/styles/*.scss')\n    .pipe($.plumber())\n    .pipe($.sourcemaps.init())\n    .pipe($.sass.sync({\n      outputStyle: 'expanded',\n      precision: 10,\n      includePaths: ['.']\n    }).on('error', $.sass.logError))\n    .pipe($.autoprefixer({browsers: ['last 1 version']}))\n    .pipe($.sourcemaps.write())\n    .pipe(gulp.dest('.tmp/styles'))\n    .pipe(reload({stream: true}));\n});\n\nfunction lint(files, options) {\n  return () => {\n    return gulp.src(files)\n      .pipe(reload({stream: true, once: true}))\n      .pipe($.eslint(options))\n      .pipe($.eslint.format())\n      .pipe($.if(!browserSync.active, $.eslint.failAfterError()));\n  };\n}\nconst testLintOptions = {\n  env: {\n    mocha: true\n  }\n};\n\ngulp.task('lint', lint('app/scripts/**/*.js'));\ngulp.task('lint:test', lint('test/spec/**/*.js', testLintOptions));\n\ngulp.task('html', ['styles'], () => {\n  const assets = $.useref.assets({searchPath: ['.tmp', 'app', '.']});\n\n  return gulp.src('app/*.html')\n    .pipe(assets)\n    .pipe($.if('*.js', $.uglify()))\n    .pipe($.if('*.css', $.minifyCss({compatibility: '*'})))\n    .pipe(assets.restore())\n    .pipe($.useref())\n    .pipe($.if('*.html', $.minifyHtml({conditionals: true, loose: true})))\n    .pipe(gulp.dest('dist'));\n});\n\ngulp.task('images', () => {\n  return gulp.src('app/images/**/*')\n    .pipe($.if($.if.isFile, $.cache($.imagemin({\n      progressive: true,\n      interlaced: true,\n      // don't remove IDs from SVGs, they are often used\n      // as hooks for embedding and styling\n      svgoPlugins: [{cleanupIDs: false}]\n    }))\n    .on('error', function (err) {\n      console.log(err);\n      this.end();\n    })))\n    .pipe(gulp.dest('dist/images'));\n});\n\ngulp.task('fonts', () => {\n  return gulp.src(require('main-bower-files')({\n    filter: '**/*.{eot,svg,ttf,woff,woff2}'\n  }).concat('app/fonts/**/*'))\n    .pipe(gulp.dest('.tmp/fonts'))\n    .pipe(gulp.dest('dist/fonts'));\n});\n\ngulp.task('extras', () => {\n\trequire(\"child_process\").exec(\"echo d|xcopy app\\\\chapters dist\\\\chapters /s /d /e /h\");\n  return gulp.src([\n    'app/*.*',\n    '!app/*.html'\n  ], {\n    dot: true\n  }).pipe(gulp.dest('dist'));\n});\n\ngulp.task('clean', del.bind(null, ['.tmp', 'dist']));\n\ngulp.task('serve', ['styles', 'fonts'], () => {\n  browserSync({\n    notify: false,\n    port: 9000,\n    server: {\n      baseDir: ['.tmp', 'app'],\n      routes: {\n        '/bower_components': 'bower_components'\n      }\n    }\n  },require('./serverapi/server.js'));\n\n  gulp.watch([\n    'app/*.html',\n    'app/scripts/**/*.js',\n    'app/images/**/*',\n    '.tmp/fonts/**/*'\n  ]).on('change', reload);\n\n  gulp.watch('app/styles/**/*.scss', ['styles']);\n  gulp.watch('app/fonts/**/*', ['fonts']);\n  gulp.watch('bower.json', ['wiredep', 'fonts']);\n});\n\ngulp.task('serve:dist', () => {\n  browserSync({\n    notify: false,\n    port: 9000,\n    server: {\n      baseDir: ['dist']\n    }\n  },require('./serverapi/server.js'));\n});\n\ngulp.task('serve:test', () => {\n  browserSync({\n    notify: false,\n    port: 9000,\n    ui: false,\n    server: {\n      baseDir: 'test',\n      routes: {\n        '/bower_components': 'bower_components'\n      }\n    }\n  },require('./serverapi/server.js'));\n\n  gulp.watch('test/spec/**/*.js').on('change', reload);\n  gulp.watch('test/spec/**/*.js', ['lint:test']);\n});\n\n// inject bower components\ngulp.task('wiredep', () => {\n  gulp.src('app/styles/*.scss')\n    .pipe(wiredep({\n      ignorePath: /^(\\.\\.\\/)+/\n    }))\n    .pipe(gulp.dest('app/styles'));\n \n  gulp.src('app/*.html')\n    .pipe(wiredep({\n      exclude: ['bootstrap-sass'],\n      ignorePath: /^(\\.\\.\\/)*\\.\\./\n    }))\n    .pipe(gulp.dest('app'));\n});\n\ngulp.task('build', [/*'lint',*/ 'html', 'images', 'fonts', 'extras'], () => {\n  return gulp.src('dist/**/*').pipe($.size({title: 'build', gzip: true}));\n});\n\ngulp.task('default', ['clean'], () => {\n  gulp.start('build');\n});\n"]}